import{c as O,d as x,f as S}from"./chunk-UAWAMN64.js";import{Ab as M,Ca as g,Da as r,Ea as a,Fa as h,Pa as u,Pb as v,Sb as P,Wa as f,Za as d,_a as s,ha as o,la as c,oa as l,pb as C,ta as b,wb as _}from"./chunk-6RFHSZWE.js";function R(i,t){if(i&1&&(r(0,"a",3)(1,"div",4)(2,"span",5),d(3),a()(),r(4,"div",6),d(5),a(),r(6,"div",7),d(7),a(),r(8,"div",8),h(9,"div",9),a()()),i&2){let e=t.$implicit,n=u();g("routerLink",e.link),o(3),s(e.icon),o(2),s(e.count),o(2),s(e.name),o(2),f("width",n.getProgress(e.count),"%")}}var m=class i{constructor(t,e,n,p){this._routeService=t;this._memberService=e;this._studentService=n;this._cdr=p}dashboard=[{name:"Total Routes",count:0,icon:"business",link:"/admin/routes"},{name:"Total Staffs",count:0,icon:"work_outline",link:"/admin/members"},{name:"Total Students",count:0,icon:"person_search",link:"/admin/students"}];ngOnInit(){this._routeService.apiRouteGetRoutesPost({}).subscribe(t=>{this.setDashboardCount("Total Routes",t.totalRecords??0),this._cdr.detectChanges()}),this._memberService.apiMemberGetStaffsPost({}).subscribe(t=>{this.setDashboardCount("Total Staffs",t.totalRecords??0),this._cdr.detectChanges()}),this._studentService.apiStudentGetStudentsPost({}).subscribe(t=>{this.setDashboardCount("Total Students",t.totalRecords??0),this._cdr.detectChanges()})}setDashboardCount(t,e){let n=this.dashboard.find(p=>p.name===t);n&&(n.count=e)}getProgress(t){return Math.min(t/100*100,100)}static \u0275fac=function(e){return new(e||i)(c(x),c(O),c(S),c(C))};static \u0275cmp=l({type:i,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"main-container"],[1,"dashboard-container"],["class","dashboard-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"dashboard-card",3,"routerLink"],[1,"icon-top"],[1,"material-icons"],[1,"count"],[1,"label"],[1,"progress-bar-container"],[1,"progress-bar"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),b(2,R,10,6,"a",2),a()()),e&2&&(o(2),g("ngForOf",n.dashboard))},dependencies:[M,_,P,v],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5}.main-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f5f5f5;box-sizing:border-box;border-radius:10px}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;background-color:#fff;padding:.8rem;border-radius:12px;box-shadow:0 4px 12px #00000014;text-decoration:none;transition:.3s;color:inherit;position:relative}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 16px #0000001f}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .icon-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background-color:#e3f2fd;border-radius:50%;margin-bottom:0}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .icon-top[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#1976d2;font-size:24px}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin-left:14px}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px;color:#1976d2;margin-bottom:0}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e0e0e0;border-radius:5px;overflow:hidden}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#1976d2;transition:width .4s ease}"]})};var z=[{path:"",component:m}];export{z as dashboardRoutes};
